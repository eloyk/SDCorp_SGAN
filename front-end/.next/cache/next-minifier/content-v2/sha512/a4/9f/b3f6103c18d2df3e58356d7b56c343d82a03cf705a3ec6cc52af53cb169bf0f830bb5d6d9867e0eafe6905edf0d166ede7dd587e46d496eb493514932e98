{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{DOep:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/orders\",function(){return n(\"gzo7\")}])},gzo7:function(t,e,n){\"use strict\";n.r(e);var a=n(\"1OyB\"),r=n(\"vuIU\"),o=n(\"Ji7U\"),c=n(\"md7G\"),l=n(\"foSv\"),s=n(\"q1tI\"),i=n.n(s),u=n(\"YA5T\"),d=n(\"VCR7\"),f=n(\"+dpY\"),p=n(\"JX7q\"),b=n(\"rePB\"),h=n(\"GGqY\"),m=n(\"iHBO\"),v=i.a.createElement;function O(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var g=function(t){Object(o.a)(n,t);var e=O(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o)),Object(b.a)(Object(p.a)(t),\"state\",{modal:!1,selected:\"\"}),Object(b.a)(Object(p.a)(t),\"closeModal\",(function(){t.props.onClick(t.state.modal)})),Object(b.a)(Object(p.a)(t),\"handleUpdate\",(function(e){if(e.preventDefault(),\"\"===t.state.selected)return!1;m.b.firestore().collection(\"orders\").doc(t.props.orderId).update({status:t.state.selected}),h.c.success(\"Status changed to \"+t.state.selected,{position:\"bottom-left\",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout((function(){t.closeModal(),window.location.reload(!1)}),1e3)})),t}return Object(r.a)(n,[{key:\"render\",value:function(){var t=this;return v(i.a.Fragment,null,v(\"div\",{className:\"admin-product-modal \".concat(this.props.active)},v(\"div\",{className:\"modal-innter-content\"},v(\"button\",{type:\"button\",className:\"close\",onClick:this.closeModal},v(\"span\",{\"aria-hidden\":\"true\"},v(\"i\",{className:\"bx bx-x\"}))),v(\"div\",{className:\"modal-body\"},v(\"h3\",null,\"Order Update\"),v(\"form\",{onSubmit:this.handleUpdate},v(\"div\",{className:\"form-group\"},v(\"label\",null,\"Order Status\"),v(\"select\",{className:\"form-control\",id:\"product-type\",onChange:function(e){return t.setState({selected:e.target.value})}},v(\"option\",null,\"Select Option\"),v(\"option\",{value:\"delivered\"},\"Delivered\"),v(\"option\",{value:\"pending\"},\"Pending\"),v(\"option\",{value:\"cancel\"},\"Declined\"))),v(\"div\",{className:\"modal-btn\"},v(\"div\",{className:\"btn optional-btn float-left\",onClick:this.closeModal},\"Cancel\"),v(\"button\",{className:\"btn default-btn float-right\"},\"Update\")))))))}}]),n}(s.Component),j=i.a.createElement;function y(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var D=function(t){Object(o.a)(n,t);var e=y(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o)),Object(b.a)(Object(p.a)(t),\"state\",{orderUpdateModal:!0}),Object(b.a)(Object(p.a)(t),\"toggleOrderUpdateModal\",(function(){t.setState({orderUpdateModal:!t.state.orderUpdateModal}),t.props.onOrderModal(t.state.orderUpdateModal)})),Object(b.a)(Object(p.a)(t),\"passId\",(function(e){t.props.onPassId(e)})),Object(b.a)(Object(p.a)(t),\"convertDateTime\",(function(t){var e=new Date(1970,0,1).setSeconds(t.seconds),n=new Intl.DateTimeFormat(\"en\",{year:\"numeric\"}).format(e),a=new Intl.DateTimeFormat(\"en\",{month:\"short\"}).format(e),r=new Intl.DateTimeFormat(\"en\",{day:\"2-digit\"}).format(e);return\"\".concat(r,\"-\").concat(a,\"-\").concat(n)})),Object(b.a)(Object(p.a)(t),\"statusBtn\",(function(t){return\"pending\"===t?j(\"span\",{className:\"badge badge_warning\"},\"Pending\"):\"cancel\"===t?j(\"span\",{className:\"badge badge_danger\"},\"Cancel\"):j(\"span\",{className:\"badge badge_success\"},\"Delivered\")})),t}return Object(r.a)(n,[{key:\"render\",value:function(){var t=this,e=this.props.orders;return j(i.a.Fragment,null,e.map((function(e,n){return j(\"tr\",{key:n,onClick:function(n){t.toggleOrderUpdateModal(),t.passId(e.id)}},j(\"td\",null,j(\"strong\",null,\"#\",e.id)),j(\"td\",null,t.convertDateTime(e.createdAt)),j(\"td\",null,e.customerDetails.address),j(\"td\",null,\"$\",e.amount),j(\"td\",null,\"Stripe\"),j(\"td\",null,e.customerDetails.phone),j(\"td\",null,t.statusBtn(e.status)))})))}}]),n}(s.Component),M=i.a.createElement;function w(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var N=function(t){Object(o.a)(n,t);var e=w(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o)),Object(b.a)(Object(p.a)(t),\"state\",{ordersData:[],loading:!0,orderUpdateModal:!1,orderId:\"\"}),Object(b.a)(Object(p.a)(t),\"toggleOrderUpdateModal\",(function(e){t.setState({orderUpdateModal:e})})),Object(b.a)(Object(p.a)(t),\"closeOrderUpdateModal\",(function(){t.setState({orderUpdateModal:!1})})),Object(b.a)(Object(p.a)(t),\"getId\",(function(e){t.setState({orderId:e})})),t}return Object(r.a)(n,[{key:\"componentDidMount\",value:function(){var t=this,e=m.b.firestore().collection(\"orders\"),n=[];e.get().then((function(e){e.forEach((function(t){var e=t.data();e.id=t.id,n.push(e)})),t.setState({ordersData:n}),t.loading=!1})).catch((function(t){console.log(\"error\",t)}))}},{key:\"render\",value:function(){var t=this.state,e=t.ordersData,n=t.loading;return M(\"div\",{className:\"admin-main-content d-flex flex-column\"},M(\"div\",{className:\"page-header\"},M(\"h2\",null,\"Orders\")),M(\"div\",{className:\"admin-table admin-orders-table height-555\"},M(\"div\",{className:\"table-responsive\"},M(\"table\",{className:\"table table-hover mb-0\"},M(\"thead\",null,M(\"tr\",null,M(\"th\",null,\"Customer ID\"),M(\"th\",null,\"Date\"),M(\"th\",null,\"Delivery Address\"),M(\"th\",null,\"Amount\"),M(\"th\",null,\"Payment Method\"),M(\"th\",null,\"Contact\"),M(\"th\",null,\"Status\"))),M(\"tbody\",null,n?M(D,{onOrderModal:this.toggleOrderUpdateModal,onPassId:this.getId,orders:e}):\"Loading...\")))),M(g,{onClick:this.closeOrderUpdateModal,orderId:this.state.orderId,active:this.state.orderUpdateModal?\"active\":\"\"}),M(\"div\",{className:\"flex-grow-1\"}))}}]),n}(s.Component),R=i.a.createElement;function U(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var S=function(t){Object(o.a)(n,t);var e=U(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:\"render\",value:function(){return R(i.a.Fragment,null,R(u.a,null),R(d.a,null),R(N,null))}}]),n}(s.Component);e.default=Object(f.a)(S)}},[[\"DOep\",0,2,9,11,1,3,10,14,17]]]);","extractedComments":[]}